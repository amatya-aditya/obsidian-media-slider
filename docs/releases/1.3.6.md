# 1.3.6

## New Features

- **Smart media type detection** — Added `MediaType` enum (`IMAGE`, `VIDEO`, `AUDIO`, `PDF`, `MARKDOWN`, `YOUTUBE`, `UNKNOWN`) and a centralized `detectMediaType()` method with per-URL caching for consistent media classification across the plugin.
- **Remote URL media support** — Remote URLs without file extensions are now detected via HTTP `Content-Type` headers (HEAD request with GET fallback, 5s timeout). Previously, extensionless remote URLs would fail to render.
- 
  ```media-slider
  ![](https://example.com/assets/259f07c0d855013ebadd005056a9545d)
  ```

## Bug Fixes

- **Fixed keyboard navigation interfering with Obsidian** (#22) — Arrow key navigation no longer intercepts key presses globally. Previously, pressing left/right arrow keys while renaming files, typing in the sidebar, or working in any `contentEditable` element would switch slider images instead.
- **Fixed slider retaining keyboard focus after clicking away** (#22) — Clicking outside a slider now properly deactivates it. Previously, once a slider was clicked, it would keep intercepting arrow keys and switching images even after navigating to a different note or panel.
- **Fixed local file detection after media type refactor** — Local vault files (images, videos, audio, PDFs, markdown) were not rendering after the media type detection PR was merged. The `detectMediaType()` regex checks were being run against Obsidian's resolved resource paths (`app://local/...?timestamp`) instead of the original filenames, causing all local media to be classified as `UNKNOWN`.

## Technical Changes

- Replaced scattered inline regex checks for file types with a single `detectMediaType()` call throughout rendering and thumbnail creation.
- Added `mapContentType()` helper for mapping HTTP `Content-Type` headers to `MediaType`.
- Thumbnail creation is now async to support async type detection for remote URLs.
- Keyboard event handler now checks `isContentEditable`, `isConnected`, and `sliderWrapper.contains(target)` to scope navigation to focused sliders only.
ocused sliders only.
